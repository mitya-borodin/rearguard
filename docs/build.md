# rearguard build

Сборка - основная задача этой системы. Превращает исходный код в файлы для использования другими библиотеками, а также для развертывания.

## Общие параметры запуска

- --release | -r - выставляет настройки для сборки в `production` режиме.
- --debug | -d - выводит всю возможную информацию о графе зависимостей, которая доступна для webpack, а также запускает WEB интерфейс в котором можно узнать о содержимом бандла.
- --both - в едином процессе собирает как `development` так и `production`.

## Сборка browser library

```bash
rearguard build --browser_lib [ --dll | --load_on_demand | --both | --release | -r | --debug | -d ]
```

Результатом сборки будет lib_bundle и опционально dll_bundle, а так же директория lib с .d.ts файлами которые описывают то, что экспортируется из библиотеки.

Данный пакет можно бует использовать только в браузерных приложениях.

## Сборка node library

```bash
rearguard build --node_lib [ --both | --release | -r | --debug | -d ]
```

Результатом сборки будет директория lib содержашая .d.ts и .js файлы.

Данный пакет можно бует использовать только в node.js приложениях.

## Сборка isomorphic library

```bash
rearguard build --browser_lib --node_lib [ --dll | --load_on_demand | --both | --release | -r | --debug | -d ]
```

Результатом сборки будут директории lib_bindle, lib, и опционально dll_bundle. Директория lib будет содержать .js, .d.ts файлы. Сборка изоморфной библиотеки не делает сам код изоморфным, для того, чтобы код использовался на обоих платформах, необходимо реализовываеть его с учетом обоих платформ.

## Сборка project

```bash
rearguard build --project [ --dll | --both | --release | -r | --debug | -d ]
```

Результатом сборки будет `index.html`, `main.js`, скопированные зависимости на один уровень с `index.html`. Директория в которую выкладываются файлы является `dist`.

Результат сборки можно использовать только для развертывания на WEB сервере.
